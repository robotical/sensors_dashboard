export WebappHome=/Users/nikolastheodoropoulos/Documents/Robotical/marty-web-app
export dashHome=/Users/nikolastheodoropoulos/Documents/Robotical/sensors-dashboard
export PhoneAppHome=/Users/nikolastheodoropoulos/Documents/Robotical/phone-app/marty-react-native

alias cdhome='cd $dashHome'
alias sourceDashboardProf='cdhome && source dashboardCliProfile'

buildAllAndCpToWebApp () {
    local type="${1:-debug}"
    if [ $type = debug ]; then npm run build:webapp-dev; fi
    if [ $type = prod ]; then npm run build:webapp; fi
    cpToWebapp
}

cpToWebapp () {
    # this gives hooks error. you need to link and the do 
    # npm link ../sensors-dashboard/node_modules/react
    rm -rf $WebappHome/node_modules/@robotical/sensors-dashboard/dist/*
    cp -r $dashHome/dist/* $WebappHome/node_modules/@robotical/sensors-dashboard/dist
    cd $WebappHome && npm link $dashHome/node_modules/react
    cd $dashHome
}

buildAllAndCpToPhoneApp () {
    npm run build
    cpToWebapp
}

cpToPhoneApp () {
    rm -rf $PhoneAppHome/assets/www/sensors-dashboard-build/*
    cp -r $dashHome/build/* $PhoneAppHome/assets/www/sensors-dashboard-build
}